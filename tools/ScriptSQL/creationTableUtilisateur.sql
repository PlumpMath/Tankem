CREATE SEQUENCE seq_utilisateur
START WITH 1
INCREMENT BY 1;


CREATE TABLE tankemQuestion(
	id NUMBER PRIMARY KEY,
	question VARCHAR2(255) NOT NULL);

CREATE TABLE tankemUtilisateur(
	id NUMBER PRIMARY KEY,
	username VARCHAR2(60) NOT NULL,
	nom VARCHAR2(60) NOT NULL,
	prenom VARCHAR2(60) NOT NULL,
	mot_de_passe VARCHAR2(255) NOT NULL,
	id_questionA NUMBER NOT NULL,
	reponse_a VARCHAR2(100) NOT NULL,
	id_questionB NUMBER NOT NULL,
	reponse_b VARCHAR2(100) NOT NULL,
	R NUMBER DEFAULT 1,
	G NUMBER DEFAULT 1,
	B NUMBER DEFAULT 1,
	CONSTRAINT unique_usernameTankem UNIQUE (username),
	FOREIGN KEY (id_questionA) REFERENCES tankemQuestion(id),
	FOREIGN KEY (id_questionB) REFERENCES tankemQuestion(id)
);

CREATE TABLE tankemArmurie(
	id NUMBER PRIMARY KEY,
	nom_arme VARCHAR2(100) NOT NULL
);
INSERT INTO tankemArmurie VALUES(1,'Shotgun');
INSERT INTO tankemArmurie VALUES(2,'Grenade');
INSERT INTO tankemArmurie VALUES(3,'Piege');
INSERT INTO tankemArmurie VALUES(4,'Guide');
INSERT INTO tankemArmurie VALUES(5,'Spring');
INSERT INTO tankemArmurie VALUES(6,'Mitraillette');
INSERT INTO tankemArmurie VALUES(7,'Canon');

CREATE TABLE tankemArmurieUtilisateur(
	id_utilisateur NUMBER NOT NULL,
	id_arme NUMBER NOT NULL,
	nb_stock NUMBER NOT NULL,
	FOREIGN KEY (id_utilisateur) REFERENCES tankemUtilisateur(id),
	FOREIGN KEY (id_arme) REFERENCES tankemArmurie(id)
);

INSERT INTO tankemQuestion VALUES (1,'Quel est le nom de votre pere?');
INSERT INTO tankemQuestion VALUES (2,'Quel est le nom de votre mere?');
INSERT INTO tankemQuestion VALUES (3,'Quel est votre animal prefere?');
INSERT INTO tankemQuestion VALUES (4,'Quelle est votre couleur preferee?');
INSERT INTO tankemQuestion VALUES (4,'Quel est votre site web prefere?');
INSERT INTO tankemQuestion VALUES (5,'Quel est votre poids?');
INSERT INTO tankemUtilisateur VALUES (seq_utilisateur.nextVal,
 'Joueur1',
 'Dupras',
 'Nicolas',
 '$2a$12$TiwJOWDlaeGsLsIv2y3CMee/FNEuJ54UgET4hXzy6FTaCk0y1fJPW',
 1,
 'Pipo',
 2,
 'Pipot',
 1,
 1,
 1);

INSERT INTO TANKEMARMURIEUTILISATEUR (ID_UTILISATEUR,ID_ARME,NB_STOCK) VALUES(1,1,0);
INSERT INTO TANKEMARMURIEUTILISATEUR (ID_UTILISATEUR,ID_ARME,NB_STOCK) VALUES(1,2,0);
INSERT INTO TANKEMARMURIEUTILISATEUR (ID_UTILISATEUR,ID_ARME,NB_STOCK) VALUES(1,3,0);
INSERT INTO TANKEMARMURIEUTILISATEUR (ID_UTILISATEUR,ID_ARME,NB_STOCK) VALUES(1,4,0);
INSERT INTO TANKEMARMURIEUTILISATEUR (ID_UTILISATEUR,ID_ARME,NB_STOCK) VALUES(1,5,0);
INSERT INTO TANKEMARMURIEUTILISATEUR (ID_UTILISATEUR,ID_ARME,NB_STOCK) VALUES(1,6,0);
INSERT INTO TANKEMARMURIEUTILISATEUR (ID_UTILISATEUR,ID_ARME,NB_STOCK) VALUES(1,7,1);

INSERT INTO tankemUtilisateur VALUES (seq_utilisateur.nextVal,
 'Joueur2',
 'Phi',
 'Dang',
 '$2a$12$TiwJOWDlaeGsLsIv2y3CMee/FNEuJ54UgET4hXzy6FTaCk0y1fJPW',
 3,
 'Vincent',
 1,
 'Madona',
 1,
 1,
 1);

INSERT INTO TANKEMARMURIEUTILISATEUR (ID_UTILISATEUR,ID_ARME,NB_STOCK) VALUES(2,1,0);
INSERT INTO TANKEMARMURIEUTILISATEUR (ID_UTILISATEUR,ID_ARME,NB_STOCK) VALUES(2,2,0);
INSERT INTO TANKEMARMURIEUTILISATEUR (ID_UTILISATEUR,ID_ARME,NB_STOCK) VALUES(2,3,0);
INSERT INTO TANKEMARMURIEUTILISATEUR (ID_UTILISATEUR,ID_ARME,NB_STOCK) VALUES(2,4,0);
INSERT INTO TANKEMARMURIEUTILISATEUR (ID_UTILISATEUR,ID_ARME,NB_STOCK) VALUES(2,5,0);
INSERT INTO TANKEMARMURIEUTILISATEUR (ID_UTILISATEUR,ID_ARME,NB_STOCK) VALUES(2,6,0);
INSERT INTO TANKEMARMURIEUTILISATEUR (ID_UTILISATEUR,ID_ARME,NB_STOCK) VALUES(2,7,1);

INSERT INTO tankemUtilisateur VALUES (seq_utilisateur.nextVal,
 'Joueur3',
 'Steven',
 'Pipo',
 '$2a$12$TiwJOWDlaeGsLsIv2y3CMee/FNEuJ54UgET4hXzy6FTaCk0y1fJPW',
 3,
 'Georges',
 2,
 'Mama',
 1,
 1,
 1);

INSERT INTO TANKEMARMURIEUTILISATEUR (ID_UTILISATEUR,ID_ARME,NB_STOCK) VALUES(3,1,0);
INSERT INTO TANKEMARMURIEUTILISATEUR (ID_UTILISATEUR,ID_ARME,NB_STOCK) VALUES(3,2,0);
INSERT INTO TANKEMARMURIEUTILISATEUR (ID_UTILISATEUR,ID_ARME,NB_STOCK) VALUES(3,3,0);
INSERT INTO TANKEMARMURIEUTILISATEUR (ID_UTILISATEUR,ID_ARME,NB_STOCK) VALUES(3,4,0);
INSERT INTO TANKEMARMURIEUTILISATEUR (ID_UTILISATEUR,ID_ARME,NB_STOCK) VALUES(3,5,0);
INSERT INTO TANKEMARMURIEUTILISATEUR (ID_UTILISATEUR,ID_ARME,NB_STOCK) VALUES(3,6,0);
INSERT INTO TANKEMARMURIEUTILISATEUR (ID_UTILISATEUR,ID_ARME,NB_STOCK) VALUES(3,7,1);

COMMIT;

